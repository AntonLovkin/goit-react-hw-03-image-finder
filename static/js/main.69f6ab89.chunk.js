(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{23:function(t,e,n){},24:function(t,e,n){},44:function(t,e,n){"use strict";n.r(e);var r=n(2),c=n.n(r),a=n(17),u=n.n(a),i=(n(23),n(8)),o=n(3),s=n(4),h=n(6),b=n(5),l=(n(24),n(0)),p=function(t){Object(h.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={query:" "},t.handleChange=function(e){t.setState({query:e.currentTarget.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.query),t.setState({query:""})},t}return Object(s.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(l.jsx)("input",{type:"text",value:this.state.query,onChange:this.handleChange}),Object(l.jsx)("button",{type:"submit",children:"Search"})]})}}]),n}(r.Component),f=n(18),j=n.n(f),g=function(t){var e=t.searchQuery,n=void 0===e?"":e,r=t.currentPage,c=void 0===r?1:r;return j.a.get("".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(n,"&page=").concat(c,"&per_page=12&key=").concat("21271693-9f15050c6f3761d48e024dcb2")).then((function(t){return t.data.hits}))},d=function(t){Object(h.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={pictures:[],currentPage:1,searchQuery:""},t.onChangeQuery=function(e){t.setState({searchQuery:e,currentPage:1,pictures:[]})},t.fetchPictures=function(){var e=t.state,n=e.currentPage,r=e.searchQuery;g({currentPage:n,searchQuery:r}).then((function(e){t.setState((function(t){return{pictures:[].concat(Object(i.a)(t.pictures),Object(i.a)(e)),currentPage:t.currentPage+1}}))}))},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t,e){e.searchQuery!==this.state.searchQuery&&this.fetchPictures()}},{key:"render",value:function(){var t=this.state.pictures;return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Pictures"}),Object(l.jsx)(p,{onSubmit:this.onChangeQuery}),Object(l.jsx)("ul",{children:t.map((function(t){var e=t.id,n=t.userImageURL,r=t.tags;return Object(l.jsx)("li",{children:Object(l.jsx)("img",{src:n,alt:r})},e)}))}),t.length>0&&Object(l.jsx)("button",{type:"button",onClick:this.fetchPictures,children:"Load more..."})]})}}]),n}(r.Component),y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,u=e.getTTFB;n(t),r(t),c(t),a(t),u(t)}))};u.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(d,{})}),document.getElementById("root")),y()}},[[44,1,2]]]);
//# sourceMappingURL=main.69f6ab89.chunk.js.map